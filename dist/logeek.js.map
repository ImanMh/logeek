{"version":3,"sources":["logeek.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,CAAC,YAAY;AACX,MAAI,MAAM,GAAG;AACX,cAAU,EAAE,QAAQ;AACpB,gBAAY,EAAE,UAAU;GACzB,CAAC;;AAEF,WAAS,IAAI,CAAE,GAAG,EAAE;AAClB,WAAO,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;GACxD;;AAED,WAAS,YAAY,CAAE,YAAY,EAAE,WAAW,EAAE;AAChD,QAAI,OAAO,GAAG,YAAY,CACtB,OAAO,CAAC,IAAI,EAAE,cAAc,CAAC,CAC7B,OAAO,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;;AAElC,QAAI,GAAG,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC;AAC1C,WAAO,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;GAC9B;;AAED,MAAI,MAAM,GAAG,SAAT,MAAM,CAAa,GAAG,EAAE;AAC1B,QAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,WAAO,IAAI,CAAC;GACb,CAAC;;AAEF,QAAM,CAAC,SAAS,CAAC,EAAE,GAAG,UAAU,KAAK,EAAE;AACrC,QAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/B,QAAI,MAAM,CAAC,YAAY,KAAK,YAAY,IACpC,MAAM,CAAC,YAAY,KAAK,UAAU,IAClC,YAAY,CAAC,MAAM,CAAC,YAAY,EAAE,YAAY,CAAC,EACjD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACzB,CAAC;;AAEF,MAAI,IAAI,GAAG,SAAP,IAAI,CAAa,KAAK,EAAE;AAC1B,UAAM,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;GACnC,CAAC;;AAEF,MAAI,YAAY,GAAG,SAAf,YAAY,CAAa,UAAU,EAAE;AACvC,QAAI,kBAAkB,GAAG,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC;QAChD,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,kBAAkB,CAAC;QACjD,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAC;;AAEzD,QAAI,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;GAC3B,CAAC;;AAEF,MAAI,SAAS,GAAG,SAAZ,SAAS,CAAa,GAAG,EAAE;AAC7B,QAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AAC3B,kBAAY,CAAC,GAAG,CAAC,CAAC;AAClB,aAAO;KACR;AACD,WAAO,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC;GACxB,CAAC;;;AAGF,MAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACjC,UAAM,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;AACtC,UAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;GACvC;;;AAGD,MAAI,OAAO,OAAO,KAAK,WAAW,EAAC;AACjC,UAAM,CAAC,OAAO,GAAG,SAAS,CAAC;AAC3B,UAAM,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;GAC5B;CACF,CAAA,EAAG,CAAC","file":"logeek.js","sourcesContent":["// var logeek = (function () {\n//   var config = {\n//     filter: '_global_',\n//     delimiter: '@'\n//   };  \n// \n//   var logeek = function () {\n//     var args = normalizeArgs.apply(null, arguments);\n//     if (!isAllowed(args.msg, args.filter))\n//       return;\n//       \n//     if (args.msg instanceof Array)\n//       console.log.apply(null, args.msg);\n//     else\n//       console.log.call(null, args.msg);\n//   };\n// \n//   logeek.show = function (filter) {\n//     config.filter = filter;\n//   };\n// \n//   function isAllowed (msg, filter) {\n//     if (typeof filter === 'undefined')\n//       return config.filter === '_global_';\n//     else\n//       return filter === config.filter || passesFilter(filter, config.filter);\n//   }\n// \n//   function passesFilter (input, filter) {\n//     var pattern = filter.\n//         replace('/*', '(\\/[^\\/].+)*').\n//         replace('*/', '([^\\/].+\\/)*');\n//     \n//     var reg = new RegExp('^' + pattern + '$');\n//     return reg.test(input);\n//   }\n// \n//   function normalizeArgs () {\n//     if (arguments.length === 1 && typeof(arguments[0]) === 'string') {\n//       var msg = trim(arguments[0].split('@')[0]),\n//           filter = trim(arguments[0].split('@')[1]) || '_global_';\n//       return {msg: msg, filter: filter};\n//     }\n//     return {msg: arguments[0], filter: arguments[1]};\n//   }\n// \n//   function trim (str) {\n//     if (typeof str === 'undefined')\n//       return;\n//     return str.replace(/^(\\s|\\n)*|(\\s|\\n)*$/gm, '');\n//   }\n//   \n//   return logeek;\n// })();\n// \n// \n// //NodeJS wrapper\n// if (typeof exports !== 'undefined')\n//   exports.logeek = logeek;\n(function () {\n  var config = {\n    globalName: 'logeek',\n    visibleScope: '_global_'\n  };\n  \n  function trim (str) {\n    return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n  }\n  \n  function passesFilter (visibleScope, testedScope) {\n    var pattern = visibleScope.\n        replace('/*', '(\\/[^\\/].*)*').\n        replace('*/', '([^\\/].*\\/)*');\n    \n    var reg = new RegExp('^' + pattern + '$');\n    return reg.test(testedScope);\n  }\n  \n  var logeek = function (msg) {\n    this.msg = msg;\n    return this;\n  };\n  \n  logeek.prototype.at = function (scope) {\n    var trimmedScope = trim(scope);\n    if (config.visibleScope === trimmedScope || \n        config.visibleScope === '_global_' || \n        passesFilter(config.visibleScope, trimmedScope))\n      console.log(this.msg);\n  };\n  \n  var show = function (scope) {\n    config.visibleScope = trim(scope);\n  };\n  \n  var logeekParser = function (logCommand) {\n    var lastDelimiterIndex = logCommand.lastIndexOf('@'),\n        msg = logCommand.substring(0, lastDelimiterIndex),\n        scope = logCommand.substring(lastDelimiterIndex + 1);\n    \n    new logeek(msg).at(scope);\n  };\n  \n  var logeekGen = function (msg) {\n    if (msg.indexOf('@') !== -1) {\n      logeekParser(msg);\n      return;\n    }\n    return new logeek(msg);\n  };\n\n  //browser export\n  if (typeof window !== 'undefined') {\n    window[config.globalName] = logeekGen;\n    window[config.globalName].show = show;\n  }\n    \n  //NodeJS export\n  if (typeof exports !== 'undefined'){\n    module.exports = logeekGen;\n    module.exports.show = show;\n  }\n})();\n"],"sourceRoot":"/source/"}